import{_ as P,g as i,c as n,o as c,b as e,x as y,F as d,e as p,l as m,v as x,s as b,t as s,q as S,y as T,p as $,d as L,z as B}from"./index-B0kgh5JD.js";const D={class:"gx-2"},R={class:"row gx-3 py-3"},I={class:"col-md-4"},j=["onClick"],z={class:"card-title mb-1"},F={class:"d-flex align-items-center justify-content-between"},E={class:"mb-0"},G={class:"mb-0"},H={class:"col-md-8"},K={class:"card mb-2"},W={key:0,class:"cardblock position-absolute text-white d-flex align-item-center justify-content-conter"},A={class:"card-body px-4"},J={class:"mb-3"},Q={class:"mb-3"},X=["id","value","onUpdate:modelValue"],Y=["for"],Z={class:"mb-3"},ee=["value","id","onUpdate:modelValue"],te=["for"],le={class:"mb-3"},se=["value","id","onUpdate:modelValue"],oe=["for"],ae={class:"mb-3"},ne={class:"d-flex gap-2"},ce={class:"card"},re={class:"card-body"},ie={class:"table"},ue={class:"text-muted fw-normal"},de={class:"text-end"},pe={class:"d-flex gap-2"},ve={class:"bg-white p-3 d-flex flex-column"},ge={class:"table"},me={class:"mt-3 mb-1"},be={class:"mb-1"},fe={class:"text-end mt-auto"},he={__name:"ReservationPage",setup(_e){const N=i([{name:"珍珠鮮奶茶",engName:"Pearl Milk Tea",price:60,defaults:{toppings:["珍珠"],sugar:"",ice:""}},{name:"椰果鮮奶茶",engName:"Coconut Milk Tea",price:60,defaults:{toppings:["椰果"],sugar:"",ice:""}},{name:"鮮奶茶",engName:"Milk Tea",price:50,defaults:{toppings:[""],sugar:"",ice:""}},{name:"古意冬瓜茶 (糖固定)",engName:"Winter Melon Drink",price:30,defaults:{toppings:[""],sugar:"全糖",ice:""}},{name:"蜜香紅茶",engName:"Black Tea",price:30,defaults:{toppings:[""],sugar:"",ice:""}},{name:"包種青茶",engName:"Paochung Tea",price:35,defaults:{toppings:[""],sugar:"",ice:""}},{name:"檸檬烏龍",engName:"Lemon Oolong Tea",price:55,defaults:{toppings:[""],sugar:"",ice:""}},{name:"薑母茶 (熱飲)",engName:"Ginger Tea",price:55,defaults:{toppings:[""],sugar:"",ice:"熱"}},{name:"青草茶",engName:"Herbal Tea",price:35,defaults:{toppings:[""],sugar:"",ice:""}},{name:"金桔檸檬",engName:"Kumquat Lemonade",price:40,defaults:{toppings:[""],sugar:"",ice:""}},{name:"柳澄青茶",engName:"Orange Mountain Tea",price:45,defaults:{toppings:[""],sugar:"",ice:""}}]),w=i(["正常冰","少冰","微冰","去冰","熱"]),V=i(["全糖","七分糖","半糖","三分糖","無糖"]),C=i(["珍珠","椰果","粉條","小粉圓","芋頭"]),a=i(""),v=i([]),f=i(0),u=i({time:"",orders:[],total:0}),h=i(null),M=o=>{a.value={...o,quantity:1,ice:o.defaults.ice!==""?o.defaults.ice:"正常冰",sugar:o.defaults.sugar!==""?o.defaults.sugar:"全糖",toppings:[],notice:""}},q=o=>{const l={...o,total:(o.price+o.toppings.length*10)*o.quantity};v.value.push(l),O(),_()},O=()=>{f.value=v.value.reduce((o,l)=>o+l.total,0)},_=()=>{a.value=""},k=()=>{v.value=[],f.value=0},U=(o,l)=>{if(o.length===0){alert("你尚未點餐");return}const t=new Date().toLocaleString();u.value.time=t,u.value.orders=[...o],u.value.total=l,k(),B(()=>{h.value&&h.value.scrollIntoView({behavior:"smooth"})})};return(o,l)=>(c(),n(d,null,[l[13]||(l[13]=e("div",null,[e("h1",null,"Reservation Page")],-1)),e("div",D,[e("div",R,[e("div",I,[(c(!0),n(d,null,p(N.value,t=>(c(),n("div",{class:"list-group",key:t.engName},[e("a",{href:"#",class:S(["list-group-item list-group-item-action",{active:a.value.name===t.name}]),onClick:b(r=>M(t),["prevent"])},[e("h6",z,s(t.name),1),e("div",F,[e("p",E,[e("small",null,s(t.engName),1)]),e("p",G,"NT$ "+s(t.price)+" 元",1)])],10,j)]))),128))]),e("div",H,[e("div",K,[a.value?y("",!0):(c(),n("div",W,"請先選擇飲品 ")),e("div",A,[e("div",J,[l[4]||(l[4]=e("label",{for:"",class:"form-label d-block"},"數量",-1)),m(e("input",{type:"number",class:"form-control",min:"0","onUpdate:modelValue":l[0]||(l[0]=t=>a.value.quantity=t)},null,512),[[x,a.value.quantity]])]),e("div",Q,[l[5]||(l[5]=e("label",{class:"form-label d-block"},"冰塊",-1)),(c(!0),n(d,null,p(w.value,(t,r)=>(c(),n("div",{class:"form-check form-check-inline",key:"ice"+r},[m(e("input",{type:"radio",name:"iceType",class:"form-check-input",id:"ice"+r,value:t,"onUpdate:modelValue":g=>a.value.ice=g},null,8,X),[[T,a.value.ice]]),e("label",{class:"form-check-label",for:"ice"+r},s(t),9,Y)]))),128))]),e("div",Z,[l[6]||(l[6]=e("label",{for:"",class:"form-label d-block"},"甜度",-1)),(c(!0),n(d,null,p(V.value,(t,r)=>(c(),n("div",{class:"form-check form-check-inline",key:"sugar"+r},[m(e("input",{type:"radio",class:"form-check-input",name:"sugarType",value:t,id:"sugar"+r,"onUpdate:modelValue":g=>a.value.sugar=g},null,8,ee),[[T,a.value.sugar]]),e("label",{for:"sugar"+r,class:"form-check-label"},s(t),9,te)]))),128))]),e("div",le,[l[7]||(l[7]=e("label",{for:"",class:"form-label d-block"},"加料",-1)),(c(!0),n(d,null,p(C.value,(t,r)=>(c(),n("div",{class:"form-check form-check-inline",key:t+r},[m(e("input",{type:"checkbox",class:"form-check-input",value:t,id:"toppings"+r,"onUpdate:modelValue":g=>a.value.toppings=g},null,8,se),[[$,a.value.toppings]]),e("label",{for:"toppings"+r,class:"form-check-label"},s(t),9,oe)]))),128))]),e("div",ae,[l[8]||(l[8]=e("label",{for:"",class:"form-label"},"備註",-1)),m(e("textarea",{name:"",id:"productNotice",class:"form-control",rows:"2","onUpdate:modelValue":l[1]||(l[1]=t=>a.value.notice=t)},null,512),[[x,a.value.notice]])]),e("div",ne,[e("button",{type:"button",class:"btn btn-outline-secondary w-100",onClick:b(_,["prevent"])},"取消"),e("button",{type:"button",class:"btn btn-warning w-100",onClick:l[2]||(l[2]=b(t=>q(a.value),["prevent"]))},"加入")])])]),e("div",ce,[e("div",re,[e("table",ie,[l[10]||(l[10]=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"品項"),e("th",{scope:"col"},"冰塊"),e("th",{scope:"col"},"甜度"),e("th",{scope:"col"},"加料(每樣10元)"),e("th",{scope:"col"},"單價"),e("th",{scope:"col"},"數量"),e("th",{scope:"col"},"小計")])],-1)),e("tbody",null,[(c(!0),n(d,null,p(v.value,t=>(c(),n("tr",{key:t.engName},[e("th",null,[L(s(t.name),1),l[9]||(l[9]=e("br",null,null,-1)),e("small",ue,"備註: "+s(t.notice),1)]),e("td",null,s(t.ice),1),e("td",null,s(t.sugar),1),e("td",null,s(t.toppings.toString()),1),e("td",null,s(t.price),1),e("td",null,s(t.quantity),1),e("td",null,s(t.total),1)]))),128))])]),e("p",de,"共 NT$ "+s(f.value)+"元",1),e("div",pe,[e("button",{class:"btn btn-warning w-50",onClick:l[3]||(l[3]=b(t=>U(v.value,f.value),["prevent"]))},"產生訂單"),e("button",{class:"btn btn-outline-secondary w-50",onClick:b(k,["prevent"])},"清空訂單")])])])])])]),u.value.orders.length>0?(c(),n("div",{key:0,class:"bg-light p-3 mt-3",ref_key:"finalOrder",ref:h},[e("div",ve,[e("table",ge,[l[11]||(l[11]=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"品項"),e("th",{scope:"col"},"冰塊"),e("th",{scope:"col"},"甜度"),e("th",{scope:"col"},"加料"),e("th",{scope:"col"},"單價"),e("th",{scope:"col"},"數量"),e("th",{scope:"col"},"小計")])],-1)),e("tbody",null,[(c(!0),n(d,null,p(u.value.orders,(t,r)=>(c(),n("tr",{key:"order"+r},[e("th",null,s(t.name),1),e("td",null,s(t.ice),1),e("td",null,s(t.sugar),1),e("td",null,s(t.toppings.toString()),1),e("td",null,s(t.price),1),e("td",null,s(t.quantity),1),e("td",null,s(t.total),1)]))),128))])]),e("p",me,"訂單成立時間: "+s(u.value.time),1),e("p",be,"餐點數: "+s(u.value.orders.length),1),l[12]||(l[12]=e("p",{class:"mb-1"},"付款狀態: 未付款",-1)),e("p",fe,"共 NT$ "+s(u.value.total)+" 元",1)])],512)):y("",!0)],64))}},ye=P(he,[["__scopeId","data-v-8c52248c"]]);export{ye as default};
