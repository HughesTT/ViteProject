import{a as b}from"./index-NIGUFBhG.js";import{_ as C,c,o as u,b as e,q as m,s as h,F as f,e as k,t as v,g as _,h as x,k as A,i as $,a as w,d as E}from"./index-B0kgh5JD.js";const N={"aria-label":"Page navigation"},T={class:"pagination"},y=["onClick"],J={__name:"AxiosJsonPaginationControls",props:{currentPage:{type:Number,required:!0},totalPages:{type:Number,required:!0}},emits:["change-page"],setup(s,{emit:o}){const l=s,P=o,d=r=>{r>=1&&r<=l.totalPages&&P("change-page",r)};return(r,i)=>(u(),c("nav",N,[e("ul",T,[e("li",{class:m(["page-item",{disabled:s.currentPage===1}])},[e("a",{class:"page-link",href:"#",onClick:i[0]||(i[0]=h(n=>d(s.currentPage-1),["prevent"]))},"Previous")],2),(u(!0),c(f,null,k(s.totalPages,n=>(u(),c("li",{key:n,class:m(["page-item",{active:s.currentPage===n}])},[e("a",{class:"page-link",href:"#",onClick:h(t=>d(n),["prevent"])},v(n),9,y)],2))),128)),e("li",{class:m(["page-item",{disabled:s.currentPage===s.totalPages}])},[e("a",{class:"page-link",href:"#",onClick:i[1]||(i[1]=h(n=>d(s.currentPage+1),["prevent"]))},"Next")],2)])]))}},D=C(J,[["__scopeId","data-v-72b00f08"]]),q={class:"database"},B={class:"row"},M={class:"card-img"},V=["src"],j={class:"card-title"},F={class:"card-location"},I={class:"card-tel"},z="https://raw.githubusercontent.com/hexschool/KCGTravel/master/datastore_search.json",p=10,G={__name:"AxiosJsonPropsEmit",setup(s){const o=_([]),l=_(3),P=()=>{b.get(z).then(t=>{o.value=t.data.result.records,console.log(o.value)}).catch(t=>{console.error("Error fetching data:",t)})},d=x(()=>{const t=(l.value-1)*p,a=t+p;return o.value.slice(t,a)}),r=x(()=>Math.ceil(o.value.length/p)),i=t=>{l.value=t},n=()=>{window.scrollTo(0,0)};return A(l,()=>{n()}),$(()=>{P()}),(t,a)=>(u(),c(f,null,[e("div",null,[a[1]||(a[1]=e("h3",null,"Axios引用資料，以Props、Emit傳遞資料分頁顯示",-1)),a[2]||(a[2]=e("p",null,"子元件 AxiosJsonPaginationControls.vue (Component資料夾下)",-1)),a[3]||(a[3]=e("div",null,[e("ul",null,[e("li",null,"父元件作為資料管理者，由它來發送axios請求，並將其渲染到畫面上"),e("li",null,"引用子元件AxiosJsonPaginationControls.vue做分頁顯示，定義Props、Emit ")])],-1)),e("div",q,[e("div",B,[(u(!0),c(f,null,k(d.value,g=>(u(),c("div",{class:"col-md-5 data-card",key:g._id},[e("div",M,[e("img",{class:"img-fluid",alt:"",src:g.Picture1},null,8,V)]),e("div",j,v(g.name),1),e("div",F,[a[0]||(a[0]=e("i",{class:"fa-solid fa-location-crosshairs"},null,-1)),E(" "+v(g.Add),1)]),e("div",I,v(g.Tel),1)]))),128))])])]),w(D,{currentPage:l.value,totalPages:r.value,onChangePage:i},null,8,["currentPage","totalPages"])],64))}},S=C(G,[["__scopeId","data-v-0ec58c9b"]]);export{S as default};
