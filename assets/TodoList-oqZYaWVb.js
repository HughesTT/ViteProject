import{_ as A,g as r,h as g,i as F,j as N,k as z,c as h,o as k,b as o,l as d,v as $,m as y,n as w,p as S,F as U,e as J,t as _,q as p,s as m}from"./index-Bz1itshJ.js";const j={class:"todo-list"},q={class:"main"},G={class:"todo-list"},R={class:"view"},W=["onUpdate:modelValue"],Y=["onDblclick"],H=["onClick"],P=["onUpdate:modelValue","onBlur","onKeyup"],Q={class:"footer"},X={class:"todo-count"},Z={class:"filters"},ee="https://unpkg.com/todomvc-app-css@2.2.0/index.css",b="todolist-style",B="todos-express",le={__name:"TodoList",setup(te){const u={fetch(){const e=JSON.parse(localStorage.getItem(B)||"[]");return e.forEach(function(l,t){l.id=u.uid}),u.uid=e.length,e},save(e){localStorage.setItem(B,JSON.stringify(e))},uid:0},f={all:e=>e,active:e=>e.filter(l=>!l.completed),completed:e=>e.filter(l=>l.completed)},s=r([]),a=r("all"),V=g(()=>f[a.value](s.value)),v=g(()=>f.active(s.value).length),I=e=>e===1?"item":"items",c=r(""),D=()=>{const e=c.value&&c.value.trim();e&&(s.value.push({id:u.uid++,title:e,completed:!1}),c.value="")},C=e=>{s.value.splice(s.value.indexOf(e),1)},i=r("");let T=null;const K=e=>{i.value=e,T=e.title},x=e=>{i.value&&(i.value=null,e.title=e.title.trim(),e.title||C(e))},L=e=>{i.value=null,e.title=T},M={updated(e,l){l.value&&e.focus()}},O=()=>{s.value=f.active(s.value)},E=g({get:()=>v.value===0,set:e=>s.value.forEach(l=>l.completed=e)});return F(()=>{if(s.value=u.fetch(),!document.getElementById(b)){const e=document.createElement("link");e.id=b,e.rel="stylesheet",e.href=ee,document.head.appendChild(e)}}),N(()=>{const e=document.getElementById(b);e&&document.head.removeChild(e)}),z(s,()=>{u.save(s.value)},{deep:!0}),(e,l)=>(k(),h(U,null,[l[7]||(l[7]=o("div",null,null,-1)),l[8]||(l[8]=o("h1",null,"Todo List",-1)),o("div",j,[d(o("input",{class:"new-todo",placeholder:"What needs to be done?","onUpdate:modelValue":l[0]||(l[0]=t=>c.value=t),onKeyup:l[1]||(l[1]=y(t=>D(e.todo),["enter"]))},null,544),[[$,c.value]]),d(o("div",q,[d(o("input",{id:"toggle-all",class:"toggle-all",type:"checkbox","onUpdate:modelValue":l[2]||(l[2]=t=>E.value=t)},null,512),[[S,E.value]]),l[6]||(l[6]=o("label",{for:"toggle-all"},null,-1)),o("ul",G,[(k(!0),h(U,null,J(V.value,t=>(k(),h("li",{class:p(["todo",{completed:t.completed,editing:t==i.value}]),key:t.id},[o("div",R,[d(o("input",{class:"toggle",type:"checkbox","onUpdate:modelValue":n=>t.completed=n},null,8,W),[[S,t.completed]]),o("label",{onDblclick:n=>K(t)},_(t.title),41,Y),o("button",{class:"destroy",onClick:n=>C(t)},null,8,H)]),d(o("input",{class:"edit",type:"text","onUpdate:modelValue":n=>t.title=n,onBlur:n=>x(t),onKeyup:[y(n=>x(t),["enter"]),y(n=>L(t),["esc"])]},null,40,P),[[$,t.title],[M,t==i.value]])],2))),128))])],512),[[w,s.value.length]]),o("footer",Q,[o("span",X,_(v.value)+" "+_(I(v.value))+" left ",1),o("ul",Z,[o("li",null,[o("a",{href:"#/all",onClick:l[3]||(l[3]=m(t=>a.value="all",["prevent"])),class:p({selected:a.value=="all"})},"All",2)]),o("li",null,[o("a",{href:"#/active",onClick:l[4]||(l[4]=m(t=>a.value="active",["prevent"])),class:p({selected:a.value=="active"})},"Active",2)]),o("li",null,[o("a",{href:"#/completed",onClick:l[5]||(l[5]=m(t=>a.value="completed",["prevent"])),class:p({selected:a.value=="completed"})},"Completed",2)])]),d(o("button",{class:"clear-completed",onClick:m(O,["prevent"])}," Clear completed ",512),[[w,s.value.length>v.value]])])])],64))}},se=A(le,[["__scopeId","data-v-87007ebd"]]);export{se as default};
